<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>My Bharat</ion-title>
    <ion-chip id="menu-trigger" color="light" slot="end" class="ion-margin-end">
      <ion-avatar style="width: 40px; height: 40px;">
          <img [src]="'/assets/images/blank_profile_2.jpg'" alt="Profile Pic" />
      </ion-avatar>
      <ion-label color="light" *ngIf="profileData">{{profileData.screen_name}}</ion-label>
  </ion-chip>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-segment [(ngModel)]="segment">
    <ion-segment-button value="{{seg.value}}" *ngFor="let seg of segments">
      <ion-label>{{seg.name}}</ion-label>
    </ion-segment-button>  
  </ion-segment>
  
  <!-- filter section -->
  <div class="filter-section flex-row" [ngSwitch]="segment">
    <div *ngIf="filteredList.length > 0" style="width: 100%;">
      <ion-label style="margin-right: 1rem;">Applied Filters</ion-label>
      <ion-chip [outline]="true" *ngFor="let ls of filteredList">
        <ion-label>{{ls}}</ion-label>
        <ion-icon name="close" style="color: black;" (click)="removeList(ls)"></ion-icon>
      </ion-chip>
      <ion-chip [outline]="true" style="color: #f15b43;" (click)="filteredList = []">
        <ion-label>Clear All</ion-label>
      </ion-chip>
    </div>
    <div class="filter"> 
    <ion-button fill="outline" (click)="showFilterPopover($event)" style="float: right;">
      <ion-icon name="funnel-outline"></ion-icon>
      <ion-label>Filters</ion-label>
    </ion-button>
    </div>
  </div>

  <div class="content flex-row" [ngSwitch]="segment">
    <!-- dashboard switch -->
    <div *ngSwitchCase="'dashboard'">
      <ion-grid>
        <ion-row class="each-row">
          <!-- heat map section -->
          <ion-col size="6">
            <ion-card>
              <ion-card-content>
                <div id="chart-container">FusionCharts will render here</div>
              </ion-card-content>
            </ion-card>
          </ion-col>
          <!-- values card section -->
          <ion-col size="6" style="padding-left: 2rem;">
            <ion-row>
              <ion-col *ngFor="let row1 of contents" [size]="row1.size" [ngClass]="{'ion-card-content-row6': row1.size == '6', 'last-row-content': row1.size == '4'}">
                <ion-card>
                  <ion-card-content>
                    <div>
                      <ion-thumbnail slot="start" [ngStyle]="{'background': row1.color}">
                        <ion-icon [name]="row1.icon" size="large"></ion-icon>
                      </ion-thumbnail>
                    </div>
                    <div [ngClass]="{'card-content': row1.size == '6', 'card-content-last': row1.size == '4'}">
                      <ion-card-title>{{row1.title}}</ion-card-title>
                      <ion-card-subtitle>{{row1.subTitle}}</ion-card-subtitle>
                    </div>
                  </ion-card-content>
                </ion-card>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-grid>
      
      <!-- youth registered section -->
      <ion-grid>    
        <ion-row class="each-row">
          <ion-col>
            <ion-card>
              <ion-card-header>
                  <ion-card-title>Youth Registered</ion-card-title>
                  <ion-list class="horizontal-list">
                    <ion-item *ngFor="let youthlist of youthRegisteredList" [(NgModule)]="selectedType" (click)="handleYouthData(youthlist)">
                      <ion-label [ngStyle]="{'color': (youthlist.type == selectedType ) ? youthlist.color : '', 'border-bottom': (youthlist.type == selectedType ) ? '1px solid black' : '' }">{{youthlist.type}}</ion-label>
                    </ion-item> 
                  </ion-list>
              </ion-card-header>
              <ion-card-content class="text-center">
                <div id="chart-container-youth">FusionCharts will render here</div>
              </ion-card-content>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>

      <!-- youth registered, Mega Events, Most Trending Events section -->
      <ion-grid>
        <ion-row class="each-row">
          <ion-col size="2.5">
            <app-card-list [type]="" [title]="'Youth Registered'" [list]="youthRegisteredList"></app-card-list>
          </ion-col>
          <ion-col size="6.5">
            <ion-card>
              <ion-card-title>Mega Events</ion-card-title>
              <ion-card-content>
                <ion-list class="horizontal-list">
                  <ion-col size="6">
                    <ion-item>
                      <div class="flex-column" style="width: 100%;">
                        <div>
                          <ion-thumbnail style="background: orange; --size: 10rem">
                            <div style="display: flex; flex-direction: column;">
                              <ion-title>6565</ion-title>
                              <ion-label>Total Events</ion-label>
                            </div>
                          </ion-thumbnail>
                        </div>
                        <div>
                          <ion-card style="border-top: 3px solid orange; margin-top: 2rem;">
                            <ion-list class="horizontal-list" style="margin-top: 1rem;">
                              <ion-item *ngFor="let ev of eventsDetails">
                                <ion-col class="flex-column">
                                  <ion-label>{{ev.label}}</ion-label>
                                  <ion-label style="font-size: 20px; font-weight: 500;">{{ev.count}}</ion-label>
                                </ion-col>
                              </ion-item>
                            </ion-list>
                            <ion-item lines="none">
                              <div style="margin-top: 2rem;">
                                <ion-label>Images</ion-label>
                                <ion-row>
                                  <ion-col class="flex-column" style="margin-right: 1rem;">
                                    <ion-label>Uploaded</ion-label>
                                    <ion-label style="font-size: 20px; font-weight: 500;">54764</ion-label>
                                  </ion-col>
                                  <ion-col class="flex-column">
                                    <ion-label>Approved</ion-label>
                                    <ion-label style="font-size: 20px; font-weight: 500;">54764</ion-label>
                                  </ion-col>
                                </ion-row>
                              </div>
                            </ion-item>
                            <ion-item lines="none" class="each-row">
                              <div style="margin-top: 2rem;">
                                <ion-label>Videos</ion-label>
                                <ion-row>
                                  <ion-col class="flex-column" style="margin-right: 1rem;">
                                    <ion-label>Uploaded</ion-label>
                                    <ion-label style="font-size: 20px; font-weight: 500;">54764</ion-label>
                                  </ion-col>
                                  <ion-col class="flex-column">
                                    <ion-label>Approved</ion-label>
                                    <ion-label style="font-size: 20px; font-weight: 500;">54764</ion-label>
                                  </ion-col>
                                </ion-row>
                              </div>
                            </ion-item>
                          </ion-card>
                        </div>
                      </div>
                    </ion-item>
                  </ion-col>
                  <ion-col size="6" style="margin-bottom: 0;">
                    <ion-item lines="none">
                      <div style="justify-content: center; align-items: center; display: flex; flex-direction: column; width: 100%;">
                        <div>
                          <ion-thumbnail style="width: 100%; margin-inline: 0.2rem; --size: 10rem; --border-radius: 10px;">
                            <img alt="" src="https://as1.ftcdn.net/v2/jpg/07/79/24/88/1000_F_779248828_tLe8EvFw1qIIcv9EBl9KVPviISk5YeBb.jpg"/>
                          </ion-thumbnail>
                        </div>
                        <div>
                          <ion-card style="border-top: 3px solid green; margin-top: 2rem;">
                            <ion-card-title style="color: green;">Superhit Events</ion-card-title>
                            <ion-title style="color: black; font-size: 25px;">International Yoga Day</ion-title>
                            <div style="align-items: center; display: flex;">
                              <ion-item lines="none">
                                <ion-icon name="calendar-outline" color="black" style="font-size: 22px;"> </ion-icon>
                                <ion-label style="margin-left: 0.8rem;">21/07/2024</ion-label>
                              </ion-item>
                              <ion-item lines="none">
                                <ion-icon name="location-outline" color="black" style="font-size: 22px;"></ion-icon>
                                <ion-label style="margin-left: 1rem;">Mumbai</ion-label>
                              </ion-item>
                            </div>
                            <ion-list class="horizontal-list" style="margin-top: 2rem;">
                              <ion-item style="--inner-border-width: 0 1px 0 0" *ngFor="let ev of eventsDetails">
                                <ion-col style="display: flex; flex-direction: column; align-items: center">
                                  <ion-label>{{ev.label}}</ion-label>
                                  <ion-label>{{ev.count}}</ion-label>
                                </ion-col>
                              </ion-item>
                            </ion-list>
                            <ion-row class="each-row" style="margin-top: 2rem;">
                              <ion-col class="flex-column">
                                <ion-label>Images Shared</ion-label>
                                <ion-label style="font-size: 20px; font-weight: 500;">54764</ion-label>
                              </ion-col>
                              <ion-col class="flex-column">
                                <ion-label>Videos Shared</ion-label>
                                <ion-label style="font-size: 20px; font-weight: 500;">54764</ion-label>
                              </ion-col>
                            </ion-row>
                          </ion-card>
                        </div>
                      </div>
                    </ion-item>
                  </ion-col>
                </ion-list>
              </ion-card-content>
            </ion-card>
          </ion-col>
          <ion-col size="3">
            <app-card-list [type]="'event'" [title]="'Most Trending Events'" [list]="trendingItems"></app-card-list>
          </ion-col>
        </ion-row>
      </ion-grid>

      <!-- EPL -->
      <ion-grid>
        <ion-row class="each-row">
          <ion-col size="9">
            <app-card-contents-details title="Experiential Learning Program" [list]="elpList" type="elp"></app-card-contents-details>
          </ion-col>
          <ion-col size="3">
            <app-card-list [type]="'event'" [title]="'Popular Programs'" [list]="trendingItems"></app-card-list>
          </ion-col>
        </ion-row>
      </ion-grid>

        <!-- Volunteer opportunities for events -->
      <ion-grid>
        <ion-row class="each-row">
          <ion-col size="9">
            <app-card-contents-details title="Volunteer Opportunities for Events" [list]="voEventsList" type="vo"></app-card-contents-details>
          
            <!-- <ion-card>
              <ion-card-content class="elp-content-VO">
                <ion-col size="3.5" style="margin-bottom: 0;">
                  <div class="elp-main">
                    <ion-card-title>Volunteer Opportunities for Events</ion-card-title>
                    <circle-progress
                      [showTitle]="true"
                      [showUnits] = "false"
                      [percent]="101"
                      [maxPercent]="100"
                      [radius]="100"
                      [showSubtitle] = "true"
                      [showInnerStroke]="false"
                      [outerStrokeWidth]="10"
                      [outerStrokeColor]="'#FCDDD8'"
                      [backgroundGradient]="true"
                      [showBackground]="true"
                      [backgroundOpacity]="1"
                      backgroundColor = #F15B43
                      backgroundGradientStopColor = #F15B43
                      [backgroundPadding]='-10'
                      title= "Total Vo`s"
                      subtitle = "6565"
                      subtitleColor = #ffffff
                      titleColor = #ffffff
                      titleFontSize= "17"
                      subtitleFontSize= "17"
                    ></circle-progress>
                  </div>
                </ion-col>
                <ion-col size="8.5" style="margin-bottom: 0;">
                  <div>
                    <ion-row style="margin-inline: 0.8rem;">
                      <ion-col size="8.5" style="display: flex;">
                        <ion-card style="margin-inline: 1.5rem;" *ngFor="let elp of voEventsList">
                          <ion-card-content style="display: flex; flex-direction: column; justify-content: center;">
                            <ion-card-subtitle>{{elp.label}}</ion-card-subtitle>
                            <ion-card-title>{{elp.count}}</ion-card-title>
                          </ion-card-content>
                        </ion-card>
                      </ion-col>
                    </ion-row>
                    <ion-row>
                      <ion-card-title>Volunteer Opportunities Participants</ion-card-title>
                      <ion-list class="horizontal-list">
                        <ion-item style="--inner-border-width: 0 1px 0 0" *ngFor="let ev of eventsDetails">
                          <ion-col style="display: flex; flex-direction: column; align-items: center">
                            <ion-label>{{ev.label}}</ion-label>
                            <ion-title>{{ev.count}}</ion-title>
                          </ion-col>
                        </ion-item>
                      </ion-list>
                    </ion-row>
                    <ion-row>
                      <ion-list class="horizontal-list" style="margin-top: 2rem;">
                        <ion-item style="--inner-border-width: 0 1px 0 0">
                          <div>
                            <ion-card-subtitle>Images</ion-card-subtitle>
                            <ion-row>
                              <ion-col class="flex-column">
                                <ion-label>Uploaded</ion-label>
                                <ion-item lines="none">
                                  <ion-label sty>54764</ion-label>
                                </ion-item>
                              </ion-col>
                              <ion-col style="display: flex; flex-direction: column; align-items: center">
                                <ion-label>Approved</ion-label>
                                <ion-item lines="none">
                                  <ion-label>54764</ion-label>
                                </ion-item>
                              </ion-col>
                            </ion-row>
                          </div>
                        </ion-item>
                        <ion-item lines="none">
                          <div>
                            <ion-card-subtitle>Videos</ion-card-subtitle>
                            <ion-row>
                              <ion-col style="display: flex; flex-direction: column">
                                <ion-label>Uploaded</ion-label>
                                <ion-item lines="none">
                                  <ion-label>54764</ion-label>
                                </ion-item>
                              </ion-col>
                              <ion-col style="display: flex; flex-direction: column">
                                <ion-label>Approved</ion-label>
                                <ion-item lines="none">
                                  <ion-label>54764</ion-label>
                                </ion-item>
                              </ion-col>
                            </ion-row>
                          </div>
                        </ion-item>
                      </ion-list>
                    </ion-row>
                  </div>
                </ion-col>
              </ion-card-content>
            </ion-card> -->
          </ion-col>
          <ion-col size="3">
            <app-card-list [type]="'event'" [title]="'Top 5 Organizations'" [list]="orgList"></app-card-list>
          </ion-col>
        </ion-row>
      </ion-grid>

        <!-- My Bharat Organizations-->
      <ion-grid>
        <ion-row class="each-row">
          <ion-col size="9">
            <app-card-contents-details title="My Bharat Organizations" [list]="orgList" type="mbo"></app-card-contents-details>
            <!-- <ion-card>
              <ion-card-content class="elp-content-org">
                <ion-col size="3.5">
                  <div class="elp-main">
                    <ion-card-title>My Bharat Organizations</ion-card-title>
                    <circle-progress
                      [showTitle]="true"
                      [showUnits] = "false"
                      [percent]="101"
                      [maxPercent]="100"
                      [radius]="100"
                      [showSubtitle] = "true"
                      [showInnerStroke]="false"
                      [outerStrokeWidth]="10"
                      [outerStrokeColor]="'#C8F2F9'"
                      [backgroundGradient]="true"
                      [showBackground]="true"
                      [backgroundOpacity]="1"
                      backgroundColor = #1EC8E5
                      backgroundGradientStopColor = #1EC8E5
                      [backgroundPadding]='-10'
                      title= "Total"
                      subtitle = "556"
                      subtitleColor = #ffffff
                      titleColor = #ffffff
                      titleFontSize= "17"
                      subtitleFontSize= "17"
                    ></circle-progress>
                  </div>
                </ion-col>
                <ion-col size="8.5">
                  <div>
                    <ion-row style="margin-inline: 0.8rem;">
                      <ion-col size="3" *ngFor="let elp of orgList">
                        <ion-card style="margin: 0.4rem;">
                          <ion-card-content>
                            <ion-card-subtitle>{{elp.label}}</ion-card-subtitle>
                            <ion-card-title>{{elp.count}}</ion-card-title>
                          </ion-card-content>
                        </ion-card>
                      </ion-col>
                    </ion-row>
                    <ion-row>
                     <ion-col size="4" *ngFor="let elp of [0,1,2,3,4,5,6]" style="display: flex;">
                      <ion-avatar style="background: orange; display: flex; justify-content: center; align-items: center;">
                        <ion-icon name="home" style="color: black; font-size: 18px;"></ion-icon>
                      </ion-avatar>
                      <div>
                        <ion-label>States Registered</ion-label>
                        <ion-title>18</ion-title>
                      </div>
                     </ion-col>
                    </ion-row>
                  </div>
                </ion-col>
              </ion-card-content>
            </ion-card> -->
          </ion-col>
          <ion-col size="3">
            <app-card-list [type]="'event'" [title]="'Top 5 Trending Org.'" [list]="orgList"></app-card-list>
          </ion-col>
        </ion-row>
      </ion-grid>

        <!-- Feedback -->
      <ion-grid>
        <ion-row class="each-row">
          <ion-col size="6">
            <ion-card>
              <ion-card-content>
                <div>
                  <ion-label style="font-size: 22px; color: black; font-weight: 500;">Feedback </ion-label>
                  <ion-label style="font-size: 18px; color: black;">(Total feedback received:343)</ion-label>
                </div>
                <ion-row>

                </ion-row>
              </ion-card-content>
            </ion-card>
          </ion-col>
          <ion-col size="6">
            <ion-card>
              <ion-card-content>
                <ion-card-header>
                  <ion-card-title>What users say about us?</ion-card-title>
                </ion-card-header>
                <ion-row>
                  <ion-col size="4" *ngFor="let feedback of feedbackTypes">
                    <ion-card class="feedback-card">
                      <ion-card-subtitle>{{feedback.type}}</ion-card-subtitle>
                      <ion-card-title>{{feedback.count}}</ion-card-title>
                    </ion-card>
                  </ion-col>
                </ion-row>
              </ion-card-content>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <!-- report switch -->
    <div *ngSwitchCase="'report'">
    </div>
  </div>
</ion-content>
